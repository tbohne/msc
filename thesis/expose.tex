% class options:
% - select either [german] or [english]
% - select the type of thesis from:
%   [bachelor, master, generic]
%   (in case of generic, use \type{} to specify it)
% - use option "alpha" for abbreviated citation (instead of numbers)
% - option "draft" is available, too
% - use options "utf8" or "latin1" to select inputencoding
\documentclass[german, master, expose, latin1]{base/thesis_KBS}

\usepackage{units}    % useful for settings units:              \unit[23]{m}
\usepackage{nicefrac} % for setting fractions esp. within text: \nicefrac{km}{h}

\usepackage{algorithm, algorithmic}  % for pseudo code (cf. documentation)
\renewcommand{\algorithmiccomment}[1]{\qquad{\small // \textit{#1}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\title{Working Title: Long-Term Autonomous Plant Monitoring with a Mobile Robot}
\author{Tim Bohne}
\email{tbohne@uni-osnabrueck.de}

\generatetitle

\section{Goal}

As the title suggests, the goal of the work is to develop / integrate a prototypical system for long-term autonomous plant monitoring with a mobile robot.\newline

Long-term autonomy, as robotics in general, is an integration problem. Many technologies have to be integrated in order to build a working system and compared to
other disciplines of artificial intelligence, it is not trivial to state that a system has improved the status quo by X percent. Scientific robotics is the keyword,
under which attempts are summarized that have the goal to evaluate robotic systems based on scientific standards.\newline

The first essential step towards long-term autonomy of a mobile robot is of course to ensure its power supply.
For this purpose, there is an inductive charging station, which is located in a mobile container on the field site.
Thus, the power supply is realized by an autonomous docking / undocking solution, which enables the robot to detect the container in a laser scan
of its nearby surroundings, drive into it and dock to an inductive charging station. To know when to trigger this docking procedure, it is crucial 
to have a process that monitors the battery level. Based on the dimensions of the particular field under consideration, it is not assured that one battery 
charge will be sufficient to process every parcel.\newline

When the power supply is established, the robot's actual task can be performed. This task consists of planning when to observe which parcel of the field,
how to get there, and what sensors to use. Based on the growth state of the plants, different sensors are required to record the relevant data.
Just as important as the planning itself, is the execution of the generated plan as well as monitoring the execution.
So, in general this will be a task of plan-based robot control.
Although the overall tour, the robot is going to drive through is generally always the same, there are certain stopping conditions 
such as a low battery level or drastic weather changes that lead to a preemption of an active scanning tour and require the robot 
to move back to its base, i.e. the mobile container. Afterwards, when the cause of the preemption is resolved, 
the robot should continue its scanning task right from the point where it was preempted.\newline

The plan, i.e. the decision of which parcel is to be processed next, is based on a list of criteria. The primary criterion is the growth stage of the plants.
There is a list of particular features that are supposed to be detected based on the current growth state.
At the moment, this information is communicated manually, but in the future it is planned to have that automated.
It is well traceable in time when a certain feature is to be expected such that this process could be time-triggered.\newline

Finally, the goal is to generate a complete picture of every parcel on the field, not randomly, but time targeted and based on weather conditions. 
Especially when considering hyperspectral data, it is important that it is neither too sunny, nor too cloudy, ideally it should be grey and foggy with uniform illumination.
Of course, it's not trivial to predict the weather.\newline

Initially, a prototypical setup of a long-term autonomous plant monitoring scenario will be developed that can be tested and evaluated 
in a physics simulation, i.e. Gazebo. Ultimately, there should be a long-term experiment (e.g. one day) in the real world with the actual hardware that
underlines the relevance of the approaches discussed in this work for practical applications. Since a mobile robot is a very complex system, there are arbitrary many 
technical barriers that could prevent a practical success in a long-term test (e.g. deep-discharge of the battery, ...), the idea is to be at least able to show 
it in a sufficiently realistic physical simulation. Thus, the plan is to have a real-life experiment, but the work is not going to depend on it.
The simulation kind of ensures that an experiment stand is available at each time.\newline

The nature of the work is going to be integrative and application-oriented, many modules that are needed to solve the task at hand are available in principle, 
but it will be the goal of this work to identify those, evaluate them empirically for their particular part of the task and integrate them in a wholesome 
solution that is capable of providing an example of a robust solution for practical applications.\newline

\textbf{LTA}\newline

The whole problem becomes interesting through the fact that not all scan positions can be processed in one battery cycle.
We are going to define that one cycle suffices to process e.g. 40\% of the scan positions and the planner should maximize the planned scan stops under the
constraint of not exceeding a safety buffer. Additionally, there is a monitoring process to keep track of potential failures.\newline

An interesting question is how to actually define 'long-term'. [...] et al. do that as follows [...] The robot has a temporal radius of action that is based
on things like its battery capacity, maintenance intervals etc. In general, all processes that require a number of such cycles are considered to be long-term processes.
Accordingly, 'long-term' can only be defined as a function of the system in question. To give an example, there could be a system that has very short battery intervals,
like a toy drone, based on the absolute time one would perhaps not consider a two hour experiment long-term, but if it includes several battery cycles, algorithmically
it can be considered a long-term process. Therefore, 'long-term' is relative.\newline

In the agricultural sector, there are processes that go on much longer than a battery cycle, i.e. vegetation periods.
However, that is not the sort of long-term that is going to be considered in this work. Because long-term processes are already present at smaller scale.
On the one hand, there is the mission level, i.e. one processing of a whole field. On the other hand, there are going to be several such field processings during one vegetation
period. So, the seasonal cycle is not going to be considered in this work, but the mission level itself can already be considered long-term, because the robot is not
going to process the whole field with one battery load. The mission has to be preempted and continued later. That's the interesting part, the plan has to be paused,
the state has to be saved, and the scanning process has to be continued after the recharge. In the meantime, the environment could have changed, e.g. the weather conditions
or the illumination that could be relevant for certain sensors of the robot. The second level that will be considered in this work, is that those missions are going
to be repeated. I.e. it takes 3-4 battery cycles to scan the whole field, but we do that every 3 days. Thus, we have two different cycles that interlock.\newline

\textbf{Things that can cause failure for long-term autonomous systems}\newline

There are numerous potential problems for long-term autonomous systems that can cause failure and prevent the system from continuing its task.
The following is a list of typical problems that are worth investigating.

\begin{itemize}
    \item battery failure / unexpected low battery
    \item weather changes
    \item obstacles in the way
    \item hardware failure (e.g. sensors)
    \item lost wifi (or whatever) connection
    \item no GPS signal
    \item certain dynamics (day / night) e.g. for sunlight-dependent sensors such as cameras
    \item full memory (not able to save further scans) -> data management
    \item to be continued...
\end{itemize}

The idea of the work will be to pick one to three of those aspects that are realistically solvable in the scope of the work and also somewhat interesting and 
relevant for practical scenarios. Those aspects should also be implemented in the simulation and solved purposefully.\newline
One idea would be to block paths on the field in the simulation in a randomized fashion. The intent is to reproducibly make things that can go wrong actually go wrong.
And the question is what to do then? An example would be that the plan says we have to follow a certain path, but this path is blocked for some reason, we don't really
care about the nature of the obstacle here, that is not the point. It could just be a muddy path that the robot can't drive through. We assume a working obstacle detection
that is able to detect a certain class of obstacles. The integrative approach is then to find a way of dealing with such obstacles.\newline

It is important to come up with definitions of such failure situations or classes (types) of such situations and how many there are very early in the work.

\section{Minimal example - basic scenario that is going to be assumed (starting point of the work)}

We have a robot that is able to drive from A to B and we currently have the case in the simulation that the robot loads as soon as it is located at certain coordinates.
We have the RIEGL scanner for which we would need some kind of fake node that is able to scan on command. In real life it exists, in real life we can control the scanner, 
we don't have a fake scanner, but we are not interested in the data here, only that it scans. We have all that, but it is not completely integrated yet, that could
be the first part of the work. A roboustly running integrated system as base case simulation that I can work with.\newline

What about planning? How do we decide when to drive to which parcel and how to get there? There is no planner at the moment, we simply assume that the plans
are generated by human operators for the moment. Therefore, the plan is a simple csv list of coordinates at the moment. There are only two actions required for
the task at hand, to drive to certain coordinates and to take a scan. An essential part will be that the robot is not able to drive through all points, take scan and
return to its base to recharge the battery, but that it has to stop in between because the battery is low, or because some other condition occurs
and that it then has to continue at the point where it stopped after recharging or simply pausing because of unmanagable conditions.\newline

To the best of my knowledge there is no such solution in the literature that could simply be applied to such a situation.
One could solve it generally in two ways. First, at planning time by considering charging stops as crucial part of the plan. Of course, this approach
is only able to tackle plannable stops and is not able to deal with unplanned situations. Therefore, we need a second approach at execution time.
Here, the robot has a plan and realizes that it has to interrupt - what does it have to do with the plan now? The idea would be to be able to somehow
pause a given plan. There is no such solution in the literature.\newline

There is a base station (container), a way to the field, and the field itself on which the robot has to record scans. Based on certain conditions, the robot has to return
to its base, e.g. low battery or drastic weather changes. The question is how to evaluate that?
This is a classic problem in robotics, how can we scientifically argue that our approaches work? We will not be able to test it for a couple of years.
To evaluate the approaches empirically, we need statistics and thus a huge number of samples. To be able to generate those, we need a simulation
that is sufficiently meaningful, i.e. realistic.\newline

The idea will be to build something that wasn't there before (to the best of my knowledge) with the intent to show that it is possible - generative approach to knowledge gain.
This requires empiricism, you have to plausibly demonstrate that what was built works and is good in some way, not just simulation, but also define objective and then 
show that it works (in simulation often self-fulfilling prophecy).\newline

The initial goal will be to take the basic scenario we are already working on and extend it with an evaluation part. Then I generate obstacles and show that it no
longer works and with the solution I develop, it works again. Of course, one has to develop a criterion - three classes of situations:
\begin{enumerate}
    \item Robot breaks down and is not able to do anything
    \item Robot recognizes a problem, is not able to solve it, and calls a human operator
    \item Robot recognizes a problem and is able to solve it by itself
\end{enumerate}

The goal could be to increase the number of situations in which the robot can solve such problems by itself, or at least recognize the problem and call for help.
We need to be able to classify such situations. For example, we'd need to run a simulation and check every few minutes whether the robot got stuck.
If this work is able to get the robot to recognize situations in which it is stuck and somehow enable it to call for help, e.g. by a push message to
the phone of the human operator, that would be a progress. Moreover, if one could show that with the solution developed in this work, the number of failures
could be reduced by X percent distributed over e.g. 30 percent of cases where the robot recognizes a problem and calls the operator for help and 20 percent in which
it is even able to solve the problem by itself, that would really be interesting and relevant. We would have a performance criterion then that allows 
an empirical analysis.\newline

A first step would be to observe how it works without any solution I develop. So, how often does the robot get stuck in the simulation based on a certain failure
case. That of course assumes a working simulation, which we have in principle (Langsenkamp or even the empty world at first). The Langsenkamp simulation should
probably be increased, a larger excerpt has to be considered - just a question of the world.

\section{Assumptions of the work - what do I want to integrate?}

Prototypical system that is able to work through a given plan (e.g. human provided), there is a plan executioner, so the robot drives through the field and records scans.\newline

Potentially integrate watchdog module that observers the battery state and acts as a fail-safe. In general, the charge stops should be part of the plan,
i.e. be considered at planning time. Thus, there has to be resource planning for the missions that includes to be back at the base station before the robot is out of battery.
However, if it fails, there is the watchdog module that is able to react to wrong plans, i.e. the battery is low before expected and the robot has to return to its base.
The module generally checks how far it is from the robot's current position to the base station, how much battery that would cost and how battery it still has.
In summary, the module is running at execution time, it is not planning the charge stops beforehand, it just reacts to failure cases, in which the robot has to preempt
the plan execution, drive back to its base and recharge. Therefore, in general it is planned to have both. The charge stops have to be considered at planning time,
so charging stops are part of the plan. Moreover, there is monitoring at execution time that looks for potential problems in this regard.\newline

Potentially integrate the docking solution for autonomous energy supply - could be really good and interesting if it works robustly.
It's not a hard requirement, just a nice-to-have.\newline

\section{Scientific and/or technological background}

\textbf{Challenges}\newline

Based on the growth state of the plants, the planning has to be adapted, which has to be evaluated in the simulation, because a long-term test that reflects
seasonal changes would clearly be beyond the scope of this work. So, besides the need for a simulation in terms of potential hardware-related or other hurdles
that prevent practical testing, we have another motivation for the simulation, which are seasonal changes that are needed in order to evaluate the different
planning strategies. From a certain date, the plants are too high to drive above them and the scans have to be taken from a different spot, the whole strategy changes.
When the plants are small enough, the scans are taken from above, when they become too big, that's no longer possible.
That is a typical constraint in agricultural projects - the vegetation periods.
In March, when this work is expected to end, the plants are going to be relatively small such that the robot can drive above them when taking
scans, in the end of srping and summer that would no longer be possible and will be reflected in the simuation.

\section{Approach}

The plan is to start from the goal backwards with the question of what is required in order to end up with a long-term autonomous system that is
able to perform those scans with changing environment conditions etc. in the simulation and ideally in practice on the real hardware.
A physica simulation in Gazebo is created as part of the research project PORTAL and might be exteneded as part of this work, e.g. with weather conditions.

\section{Expected scientific and/or technological contribution}

The idea of the long-term test is that the robot has to drive back to its charging station at least two times, otherwise it would be vacuous.
If possible, it would be good to include real weather data form the region of the test field.\newline

There are many problems / situations that can stand in the way of long-term autonomous mobile robots. In this work, a few of them are identified,
implemented in a simulation, systematicaly evaluated and solved to a degree. Basically reduce the barriers towards long-term autonomy of a mobile field
monitoring robot.

\section{Work program}

TBD.

% DON'T set \bibliographystyle here -- use the documentclass option instead
\bibliography{papers}

\end{document}
