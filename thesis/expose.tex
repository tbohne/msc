% class options:
% - select either [german] or [english]
% - select the type of thesis from:
%   [bachelor, master, generic]
%   (in case of generic, use \type{} to specify it)
% - use option "alpha" for abbreviated citation (instead of numbers)
% - option "draft" is available, too
% - use options "utf8" or "latin1" to select inputencoding
\documentclass[english, master, expose, utf8]{base/thesis_KBS}

\usepackage{units}    % useful for settings units:              \unit[23]{m}
\usepackage{nicefrac} % for setting fractions esp. within text: \nicefrac{km}{h}

\usepackage{algorithm, algorithmic}  % for pseudo code (cf. documentation)
\renewcommand{\algorithmiccomment}[1]{\qquad{\small // \textit{#1}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\title{Working Title: Long-Term Autonomous Plant Monitoring with a Mobile Robot}
\author{Tim Bohne}
\email{tbohne@uni-osnabrueck.de}

\generatetitle

\section{Goal}

As the title suggests, the goal of this work is to integrate a prototypical system for long-term autonomous plant monitoring with a mobile robot
in order to show that long-term autonomy in such a context is achievable based on certain assumptions.
Moreover, barriers that can stand in the way of a mobile robot's long-term autonomy will be identified and partially resolved.
Accordingly, a major goal of the work is to increase the number of situations in which the robot is able to overcome such barriers by itself.
However, the mere recognition of problematic situations is already a decisive advantage from a practical perspective, because then the robot is able 
to communicate the problem and call for help, e.g. of a human operator, instead of just stop working.

\subsection{Prototypical System - Long-Term Autonomous Plant Monitoring}
\label{sec:prototypical_system}

The particular long-term scenario that is going to be considered in this work takes place in an agricultural context.
The idea is to enable a mobile robot to autonomously conduct 3D-Lidar scans of the plants on a field in order to monitor their growth progression and 
to detect certain features based on the growth state. Therefore, the robot has to be able to process the whole field continually without the need for human supervision,
including the requirement for repeated charge stops. For this purpose, there is a supporting infrastructure in the form of a container with an inductive charging station on site
establishing the power supply. Since the focus of the work is not going to be the scanning part, but to establish long-term autonomy, 
the actual detection of features etc. will be disregarded.

\subsection{Barriers for Long-Term Autonomous Systems}
\label{sec:barriers_for_lta}

A crucial question is how to actually define ``long-term''. As Hawes et al. remark, ``long-term'' has no strict definition and can have various meanings depending
on the context, e.g. NASA's rover \textit{Opportunity} has been exploring the surface of Mars autonomously for years and autonomous wave gliders are able to monitor
ocean sections for months. \cite{Hawes:2017} Furthermore, there are mobile service robots used for extended periods of time in everyday, indoor environments such as hospitals 
as considered in the STRANDS project.
In this work, in contrast, long-term is going to be defined in terms of the robot's temporal radius of action that is mainly based on its battery capacity, i.e. charge cycle,
but may also include aspects like maintenance intervals etc. In general, all processes that require a number of such cycles are considered long-term processes.
Accordingly, ``long-term'' can only be defined depending on the system in question. To give an example: There might be a system with very limited battery capacity, 
such as a toy drone. Based on absolute time, a two-hour experiment might not be considered long-term, but if it involves multiple charging cycles, it can be 
algorithmically considered a long-term process. Consequently, ``long-term'' is relative.\newline
In the agricultural sector, there are processes that last much longer than a charge cycle, e.g. vegetation periods.
However, the seasonal cycle is not the sort of long-term process that will be considered in this work, as long-term processes already exist on a much smaller scale.
On the one hand, there is the mission level, i.e. one processing of an entire field. 
Such a mission can already be considered long-term, since based on the dimensions of the particular field under consideration, it is not guaranteed that one
battery charge will be sufficient to process the entire field. Instead, one battery cycle will be defined as sufficient to process a certain percentage of the scan
positions, and the planner should maximize the planned scan stops under the constraint that a safety buffer is not undercut.
Thus, a key aspect of the scenario is going to be that the mission must be paused, the state must be saved, and the mission must be continued after recharging.
In the meantime, the environment might have changed, e.g. weather conditions or illumination, which might be relevant for certain sensors of the robot.
On the other hand, there are going to be several such field processings during one vegetation period, which makes it a long-term process of repeated missions.
Therefore, it takes a number of charge cycles to process the entire field, and that mission is going to be repeated every few days,
which means that there are two different long-term cycles that are intertwined.\newline
Having clarified what long-term autonomy means in this work, we now turn to potential problems that stand in its way.
There are numerous potential problems for long-term autonomous systems that can cause failure and prevent the system from continuing its task.
Without claiming to be exhaustive, the following is a list of potential problems that, from a practical perspective, can prevent the smooth functioning
of long-term autonomous systems and are thus worthy of consideration:
\begin{itemize}
    \item battery failure / unexpected low battery
    \item drastic weather changes
    \item obstacles on the planned path
    \item hardware issues (e.g. sensor failure)
    \item lost connection (e.g. wifi) // TODO: what kind connections do we assume?
    \item lack of GPS signal
    \item certain dynamics (day / night) e.g. for sunlight-dependent sensors such as cameras
    \item full memory (not able to save further scans) -> data management
    \item to be continued...
\end{itemize}

The idea of the work will be to pick a subset of these issues that is realistically solvable in the scope of the work.
Generally, these potential barriers for long-term autonomy can be classified into three categories with increasing impact for the system:
\begin{enumerate}
    \item The robot recognizes a problem and is able to solve it by itself.
    \item The robot recognizes a problem, is unable to solve it, and calls a human operator for help.
    \item The robot has a malfunction / problem, but does not recognize it and is therefore unable to solve or communicate it.
\end{enumerate}

In the baseline scenario, after a running prototype of an integrated solution has been developed, each potential issue in the above list will be classified as type $(3)$.
Part of the goal of this work will be to shift the selected subset of problems to another category, i.e., to solve them completely, 
or at least to enable the robot to recognize them and ask for help.

\subsection{Plan Execution and Monitoring}

A key aspect of being able to handle some of the potential issues introduced in section \ref{sec:barriers_for_lta} is going to be that the robot will not be able to
complete its missions without preempting the plan execution from time to time. Either due to insufficient battery capacity or other unmanageable conditions such as 
drastic weather changes that force the robot to interrupt its task. Although the overall route may always be the same for the same field, there are certain stopping
conditions that cause the robot to interrupt its active scanning tour and drive back to its base, i.e. the mobile container.
There are generally two relevant perspectives. First, such stops have to be considered at planning time by considering charge stops as crucial part of the plan.
Of course, this is only covering plannable stops such as expected battery consumption and is not able to deal with unplanned situations.
Therefore, a second perspective comes into play that will be particularly relevant in this work - the execution time.
Just as important as the planning itself, is the execution of the generated plan as well as monitoring the execution.
The idea is that the robot executes a given plan and is somehow able to realize that it has to interrupt the execution due to some unexpected condition.
In such a case, the robot needs to be able to save the current state of the plan execution and continue precisely with that state after the reason 
for the interruption has been resolved. Consequently, the robot has to be able to pause and resume the execution of a given plan.\newline
In addition to a monitoring system capable of detecting a subset of the issues identified in section \ref{sec:barriers_for_lta},
an online monitoring capable of detecting deviations of planning parameters on a continuous or timed basis and triggering replanning if necessary would
be very valuable for practical applications.

\subsection{Potentially Integrated Solutions}

In general, an integrative work benefits from many integrated solutions. Nevertheless, it should be doable in the scope of the work and robust.
Thus, there is a tradeoff between integrating as much as possible and therefore increasing the functionality and to stay doable and realistic and 
to not depend on too much. Essentially a tradeoff between feasibility and ambition.

\subsubsection{Battery Monitoring - Watchdog-Module}

One solution that could be worth integrating is a watchdog module that observers the battery state and acts as a fail-safe. In general, the charge stops should
be part of the plan, i.e. be considered at planning time. Thus, there has to be resource planning for the missions that includes to be back at the base station before
the robot is out of battery. However, if it fails, there is the watchdog module that is able to react to wrong plans, i.e. the battery is low before expected and the 
robot has to return to its base. The module generally checks how far it is from the robot's current position to the base station, how much battery that would cost and
how much battery it still has. In summary, the module is running at execution time, it is not planning the charge stops beforehand, it just reacts to failure cases, in which 
the robot has to preempt the plan execution, drive back to its base and recharge. Therefore, in general it is planned to have both. The charge stops have to be considered 
at planning time, so charging stops are part of the plan. Moreover, there is a monitoring process at execution time that looks for potential problems in this regard.
The battery watchdog that is potentially going to be integrated is already a kind of monitoring tool, because it is able to recognize situations 
in which the battery runs low although no charging stop is part of the plan at that time.

\subsubsection{Autonomous Energy Supply}

The first essential step towards long-term autonomy of an autonomous mobile robot is of course to ensure its power supply.
For this purpose, there is an inductive charging station, which is located in a mobile container on the field site.
Thus, the power supply could be realized by the integration of an autonomous docking / undocking solution, which enables the robot to detect
the container in a laser scan of its nearby surroundings, drive into it and dock to an inductive charging station.
To know when to trigger this docking procedure, it is crucial to have a process that monitors the battery level.

\section{Scientific and/or technological background}

\subsection{Assumptions of the Work}

Obviously, it is out of the scope of this work to generally solve the problem of long-term autonomous plant monitoring with mobile robots.
Therefore, the work is going to be based upon a list of assumptions under which the developed integrated solution is expected to work.
The starting point will be a prototypical system that is able to work through a given plan (e.g. human provided) by applying a plan executioner,
which causes the robot to drive through the field and record scans.
The robotic system of consideration is going to be the autonomous robotic experimentation platform (AROX) \cite{Kisliuk:2021} that is assumed to integrate every
essential software and hardware part that is required for the task at hand, i.e. to be able to autonomously drive to specified locations and take scans.
In addition to the actual physically available AROX, the robot has been modeled in the unified robot description format (URDF) and can be used in a simulation.
The starting point of the work is going to be a physics simulation in Gazebo\footnote{Open-source 3D robotics simulator} that has been created as part of the research project 
PORTAL\footnote{https://www.dfki.de/web/forschung/projekte-publikationen/projekte-uebersicht/projekt/portal/} and might be adapted / extended in this work.
The simulation includes the AROX model, which is able to navigate autonomously to certain coordinates as well as a 2.5D  reflection of a test field and some abstract crops.
Initially, the simulation works under the assumption that the robot is able to charge its battery as soon as it is located at certain coordinates as a simplification
of the container infrastructure.\newline
To determine the robot's route through the field as well as the whole scanning processes, a plan is needed, i.e. when to drive to and process which parcel of the field. 
For the basic prototypical system, it is simply assumed that the plans are generated by human operators. Therefore, a plan is going to be a simple CSV file of actions of two types.
The first type of action will be \textsc{drive\_to(x, y)}, which leads the robot to drive to the specified coordinates (if possible), an action the employed robotic system 
AROX is capable of. The second type of action will be \textsc{scan}, which initiates a scanning procedure. In practice, the real robot has a 3D-Lidar sensor that is going 
to be used to scan the field parcels in order to detect features of the plants. To simulate the scanning procedure, some kind of dummy node is required that allows to 
scan on command, i.e. to simulate scanning since we are not actually interested in any scanning data. Thus, the second type of action will initiate a scanning procedure of
the 3D-Lidar sensor or an execution of a dummy node, respectively.

\section{Approach}

The plan is to approach the problem from the goal backwards with the question of what is required in order to end up with a long-term autonomous system that is
able to fulfill the requirements of the described scenario in a simulation and ideally in practice on the real hardware.
The idea is going to be to develop an architecture for such a long-term autonomy setup, to provide a list of potential problems that can stand in its way,
to develop methods to detect those and to provide solutions or workarounds for a subset of them. In the end, there should be a working system that solves some of 
the problems of long-term autonomy in scenarios similar to the one described in section \ref{sec:prototypical_system}.
The nature of the work is going to be integrative and application-oriented, the modules that are needed to set up the initial scenario are available in principle,
but it will be part of this work to identify and integrate them in a holistic and robust solution. As such a setup is not yet completely integrated, the very first task
of this work is going to be to implement a working prototype, a base case simulation that is going to be extended along the process.
After the basic scenario is running in the simulation, it is going to be extended with an evaluation part. Some of the potential barriers described in section 
\ref{sec:barriers_for_lta} are going to be implemented and it will be shown that the system no longer works under certain conditions, i.e. that these
barriers are in fact causing failure of long-term autonomous systems. A first step would therefore be to observe how it works without any further handling of such 
problematic situations, i.e., how often the robot gets stuck in the simulation based on a certain failure case.
Afterwards, the goal is to develop solutions that are able to resolve these problems, such that it works again. To give an example, one particular idea could be to block paths
on the field in the simulation in a randomized fashion. The intent is to reproducibly make things that could go wrong actually go wrong.
The question then is how to deal with such situations. The nature of the obstacles is incidental to this work, e.g. a muddy path that the robot is not able to drive through.
The first step, of course, would be to enable the robot to recognize such a situation through some sort of obstacle detection, and then somehow resolve it,
either by integrating a suitable solution from the literature or by developing a new solution.\newline
As should be clear by now, long-term autonomy, as robotics in general, is an integration problem. Many technologies have to be integrated in order to build a working system, 
and compared to other disciplines of artificial intelligence, it is not trivial to evaluate the system and conclude, for example, that it has improved the status quo by a 
certain percentage. Nevertheless, it is crucial to provide results that are meaningful based on scientific standards. This is a classic problem in robotics, 
how can one scientifically argue that a developed approach works? The keyword, under which such attempts are summarized is scientific robotics, 
and the goal of this work will be to evaluate the developed system based on such standards.
Since it is beyond the scope of this work to test the developed system for long time periods in practice, there is a need for other ways of evaluation.
To demonstrate, test and evaluate the system, there will be a sufficiently meaningful, i.e. realistic, physics simulation that allows an empirical analysis based 
on a huge number of samples. As mentioned, the starting point will be the simulation from the PORTAL project that will be extended as part of this work.
Ultimately, there should also be a long-term test (e.g. one day) in the field with the actual hardware that underlines the relevance of 
the approaches discussed in this work for practical applications. However, since a mobile robot is a very complex system, there are arbitrary many technical barriers 
that could prevent such a long-term test in the real world. The idea is therefore to be at least able to demonstrate the system in a sufficiently realistic simulation 
without depending on the success of such a real-world experiment. In addition to serving as a backup for possible failures in real-world tests, a simulation naturally 
creates an environment that allows reproducible situations and thus permits empirical investigation, which is a prerequisite for scientific evaluation.

\section{Expected scientific and/or technological contribution}

The idea of the work is to plausibly demonstrate that a long-term autonomous mobile robot in a field monitoring context is achievable under certain assumptions.
To the best of my knowledge, no such demonstration of a fully integrated long-term autonomous solution for the described scenario has been proposed in the literature.
Furthermore, important aspects that can prevent such a system from working properly will be identified, implemented in a simulation and systematically evaluated.
To deal with these situations, methods will be proposed that are capable of partially resolving or at least detecting such barriers in order to enable 
the robot to communicate them to a human operator, e.g. by a push message to the phone. The mere recognition of such situations would already be a decisive
advantage from a practical perspective. Moreover, if it is possible to show that with the solutions developed in this work the number of failures can be 
reduced by a certain percentage, distributed over a fraction of cases in which the robot recognizes a problem and calls the operator for help, and a 
fraction in which it is even able to solve the problem itself, the system can be considered a relevant step towards the overall goal of robust, 
long-term autonomous field monitoring robots. In other words, it would be a suitable performance criterion that allows an empirical analysis. 
This performance criterion will be used to demonstrate whether the proposed proposed methods are indeed able to improve the robustness of the system.
In summary, the work attempts to reduce the barriers towards long-term autonomy of a  mobile field monitoring robot.

\section{Work program}

TBD.

% DON'T set \bibliographystyle here -- use the documentclass option instead
\bibliography{papers}

\end{document}
